# Run all tests defined below
ieee_run_tests = {
    clear_temp_array = test_fail_array

    # Run all tests without meta effects, see ieee_tests_driver.txt
    ieee_test_driver = yes

    for_each_loop = {
        array = test_fail_array
        value = v

        add_to_temp_array = { to_print_array = v }
    }

    set_temp_variable = { last_index = test_fail_array^num }
    subtract_from_temp_variable = { last_index = 1 }
    set_temp_variable = { last_failure = test_fail_array^last_index }
    add_to_temp_variable = { last_index = 1 }
    resize_temp_array = { to_print_array = 100 } # Truncate to 100 errors
    log = "------------------------------------------------------------"
    log = "<[?last_index]> Failed Test(s): [debug_print_array]"
    log = "First failure [?test_fail_array^0]"
    log = "Last failure [?last_failure]"
    log = "------------------------------------------------------------"
}

######### TESTS #########
# Test output to game.log should be in the format:
# Test [?test_id] - WHAT IS BEING TESTED - PASS/FAIL
# Any additional test information below

# Furthermore, in the fail block add the line `add_to_temp_array = { test_fail_array = test_id }` to add the failure to a list printed at the end
# Error flags (e.g. io_error_flag) are temp variables that mark errors.

# Hard code the number of tests, each test block is separated by 10000, so it goes 0#### block, 1#### block, etc, with tests filling in the 0000-9999 range
# No longer used, but will remain for clarity's sake
ieee_get_test_count = {
    clear_temp_array = temp_test_count_array
    add_to_temp_array = { temp_test_count_array = 788 }     # to_bitwise and store_bitwise
    add_to_temp_array = { temp_test_count_array = 500 }     # relations and totalOrder
    add_to_temp_array = { temp_test_count_array = 972 }     # predicates
    add_to_temp_array = { temp_test_count_array = 1000 }    # signaling predicates
    add_to_temp_array = { temp_test_count_array = 9150 }     # addition and subtraction
    add_to_temp_array = { temp_test_count_array = 9150 }     # multiplication
    add_to_temp_array = { temp_test_count_array = 9150 }     # division
}
# test basic io
## See ieee_tests_io.txt
# test base relations and totalOrder
## See ieee_tests_relations.txt
# test quiet predicates and negations
## See ieee_tests_predicates.txt
# test signaling predicates and negations
## See ieee_tests_signaling_predicates.txt
# test addition and subtration
## See ieee_tests_addsub.txt
# test multiplication
## See ieee_tests_mult.txt
# test division
## See ieee_tests_div.txt
